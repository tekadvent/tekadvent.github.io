webpackJsonpruntime([1],{161:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=l(a(14));e.init=u,e.insert=c,e.clean=g,e.getCurrentGallery=d,e.initGallery=h;var o,r=l(a(171));function l(t){return t&&t.__esModule?t:{default:t}}var s=[];function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=$(".dmPhotoGallery"),a=e.length;s=[],$.dmrt.components.photogallery={load:function t(){},default:{ready:function t(){},load:function t(){}}},$.dmrt.components.photogallery.oldComponent=(0,n.default)({},$.dmrt.photogallery.oldComponent);for(var i=0;i<a;i++)c(e.eq(i),t)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0;t.hasClass("newPhotoGallery")?(t.data("initialized")&&!e.force?a=t.data("initialized"):(e.disableLazyLoading&&t.attr("data-enable-lazy-loading","false"),e.disableAnimation&&t.removeAttr("data-image-animation"),a=new r.default(t),t.data("initialized",a)),s.push(a)):$.dmrt.components.photogallery.oldComponent.default.ready()}function g(){}function d(t){for(var e=0;e<s.length;e++)if(s[e].getId()===t)return s[e];return null}function h(t){s||(s=[]);var e=new r.default(t);t.data("initialized",e),s.push(e)}},171:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,n=b(a(7)),o,r=b(a(8)),l,s=b(a(3)),u,c=b(a(4)),g,d=b(a(172)),h,f,m,y=b(a(177)),p,v=b(a(178)),w=a(26),S,I=b(a(65)),C=a(6);function b(t){return t&&t.__esModule?t:{default:t}}var k=w.environmentService.inEditorMode,x=w.environmentService.inPreviewMode,L=w.environmentService.inRuntimeMode,P=500,T=(f=h=(function(){function t(e){var a=this;(0,s.default)(this,t),this.animationDelay=0,this.initLayout=function(t,e){a.unveilThreshold=a.animation?0:P,a.cleanAnchors(),a.layoutProvider.setLayout(t),a.layoutProvider.draw(),a.rows=a.gallery.find(".photogallery-row"),a.manageRowsVisibility(),a.initUnveilImages({skipAnimation:e}),a.addEvents(e),a.initLinks()},this.getLazyLoading=function(){var t=a.gallery.attr("data-enable-lazy-loading");return!t||"true"===t},this.initLinks=function(){a.imagesStack.get().forEach((function(t){var e=$(t).find(".image-container a"),a=e.find("img"),i=e.attr("href")||"",n=a.attr("data-src")||"";i&&n===i&&i.length&&e.attr("href","")}))},this.manageRowsVisibility=function(){var t=void 0,e;"100"===a.rowsToShow?t=a.rows:"all"===(a.viewImagesButton.attr("data-mode")||"all")?(t=a.rows.slice(0,a.rowsToShow),a.viewImagesButton.text(a.viewImagesButton.attr("data-viewall"))):(t=a.rows,a.viewImagesButton.text(a.viewImagesButton.attr("data-viewless")));a.rows.length>a.rowsToShow?a.viewImagesButton.show():a.viewImagesButton.hide(),t.removeClass("photogallery-hidden-row")},this.onUnveil=function(t){if(!a.enableLazyLoading)return a.imagesToUnveil=[],void a.revealElements(a.imagesStack.getAsJQuery(),t);if(I.default.isElementInViewport(a.gallery[0],a.unveilThreshold)){var e=a.imagesToUnveil.filter((function(t,e){return I.default.isElementInViewport(e,a.unveilThreshold)}));e.length&&(a.imagesToUnveil=a.imagesToUnveil.not(e),a.revealElements(e,t))}},this.initUnveilImages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=w.environmentService.getSiteLayout(a.device),i=8===e||7===e?$("#iscrollBody"):$(window);a.imagesToUnveil=a.imagesStack.getAsJQuery();var n="touchmove.unveil-"+a.galleryId+" \n        scroll.unveil-"+a.galleryId+" \n        resize.unveil-"+a.galleryId+" \n        lookup.unveil-"+a.galleryId+" ";return i.off(n).on(n,(0,d.default)((function(){return a.onUnveil(t.skipAnimation)}),500)),a.onUnveil(t.skipAnimation),a},this.getImagePhotoswipeObject=function(t){if(!t.length)return null;var e=t.find("img"),i=t.find(".caption-title"),n=e.attr("data-src"),o="";a.layoutProvider.isCaptionElementVisible(t,".caption-text")&&t.find(".caption-text").contents().filter((function(t){return 3!==t.nodeType})).each((function(t,e){o+=e.textContent.trim()+" "}));var r=new Image;return r.src=n,{w:r.width,h:r.height,src:n,el:t,author:i.length?i.text().trim():"",title:o||""}},this.getImagesAsPhotoswipeItems=function(t){return t.map((function(t){return a.getImagePhotoswipeObject($(t))}))},this.initPhotoSwipeFromDOM=function(t){a.imagesStack.getAsJQuery().off("click.photoSwipe").on("click.photoSwipe",(function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();var e=t.target||t.srcElement,i=$(e).closest("li"),n=i.attr("data-index");a.openPhotoSwipe(n,i)}))},this.openPhotoSwipe=function(t,e){var i=document.querySelectorAll(".pswp")[0],n={galleryUID:a.galleryId,index:1*t,shareEl:!a.gallery.attr("data-hide-share")},o=a.getImagesAsPhotoswipeItems(a.imagesStack.get());a.photoSwipeGallery=new window.PhotoSwipe(i,window.PhotoSwipeUI_Default,o,n),a.photoSwipeGallery.listen("gettingData",(function(t,e){if(e.w<1||e.h<1){var i=new Image,n=a.photoSwipeGallery;i.onload=function(){e.w=this.width,e.h=this.height,e.needsUpdate=!0,n.updateSize(!0)},i.src=e.src}})),a.photoSwipeGallery.init()},this.revealElements=function(t,e){var i=100,o;Array.from(t).filter((function(t){return t.querySelector("[data-src]")})).forEach((o=(0,r.default)(n.default.mark((function t(e){var o,r,l,s,u,c;return n.default.wrap((function t(n){for(;;)switch(n.prev=n.next){case 0:if(o=$(e),a.animation&&(e.style.setProperty("animation-delay",i+"ms"),i+=100),r=e.querySelector("[data-src]").getAttribute("data-src")){n.next=5;break}return n.abrupt("return");case 5:return l=e.querySelector(".image-container"),(s=l.querySelector("a")).style.setProperty("background-image","url('"+a.getSourceByDevice(r,o)+"')"),n.next=10,w.DOMUtilsService.loadImage($(l),{background:!0});case 10:if(l.classList.add("revealed"),a.layoutProvider.get()!==C.PhotoGalleryLayouts.ASYMETRIC){n.next=16;break}if(!(u=a.oldLayoutFix({thumb:o}))){n.next=16;break}return n.next=16,a.waitForTransition(l);case 16:(c=l.closest(".thumbnailInnerWrapper")).style.setProperty("opacity","1");case 18:case"end":return n.stop()}}),t,a)}))),function(t){return o.apply(this,arguments)})),a.layoutProvider.getTextLayout()===C.PhotoGalleryTextLayouts.BOTTOM?a.layoutProvider.equalCaptionsHeight(t):a.layoutProvider.clearCaptionInlineHeight(t),e||(t.removeClass("animated "+a.animation),t.addClass("animated "+a.animation))},this.getSourceByDevice=function(t,e){if(k()&&!x())return t;var i=a.getElementDimensions(e),n=i.width,o=i.height;return n>=o?n<=160&&o<=90?a.replaceSourcePath(t,"thumbnail"):n<=640?a.replaceSourcePath(t,"mobile"):n<=1280?a.replaceSourcePath(t,"tablet"):t:n<=160&&o<=90?a.replaceSourcePath(t,"thumbnail"):"mobile"===a.device?a.replaceSourcePath(t,"mobile"):n<=1280?a.replaceSourcePath(t,"tablet"):t},this.updateLazyLoading=function(t){a.enableLazyLoading=t},this.changeTextLayout=function(t){a.gallery.attr("data-desktop-text-layout",t),a.initLayout()},this.changeNumberOfColumns=function(t){a.gallery.attr("data-desktop-columns",a.numberOfColumns),a.initLayout()},this.onViewImagesClicked=function(t){t.preventDefault(),t.stopPropagation();var e=a.viewImagesButton.attr("data-mode")||"all";a.viewImagesButton.attr("data-mode","all"===e?"less":"all"),a.initLayout()},this.cleanAnchors=function(){a.imagesStack.getAsJQuery().find(".image-container a").css("background-image","")},this.addEvents=function(t){var e=a.gallery.find(".caption-button");if(a.viewImagesButton.off("click.viewallbutton").on("click.viewallbutton",a.onViewImagesClicked),x()||L()){var i;if(a.gallery.find(".image-container > a").off("click.photogallery").on("click.photogallery",(function(t){this.getAttribute("href")&&this.getAttribute("href")!==this.getAttribute("data-image-url")||t.preventDefault()})),x()?w.linkService.bindLinks(e):e.on("click",(function(t){t.stopPropagation()})),"photoSwipe"===a.galleryType){if(k()&&!x())return void a.imagesStack.getAsJQuery().off("click.photoSwipe");a.initPhotoSwipeFromDOM()}else a.imagesStack.getAsJQuery().off("click.photoSwipe");w.linkService.initRuntimeLinks()}if(k())var n=setInterval((function(){window.parent.$&&window.parent.$.dmx&&(window.parent.$.dmx.events.on("siteHeightChange",(function(){a.onUnveil(t)})),window.parent.$.dmx.events.on("previewMobileOrientationRotated.photogallery-"+a.galleryId,(function(){a.initLayout()}),!0,{scope:"page"}),window.parent.$.dmx.events.off("onePreviewToggle.photogallery-"+a.galleryId).on("onePreviewToggle.photogallery-"+a.galleryId,(function(t){a.photoSwipeGallery&&a.photoSwipeGallery.close(),t&&t.preview?a.initLayout():a.imagesStack.getAsJQuery().off("click.photoSwipe")})),clearInterval(n))}),300)},this.changeRowsToShow=function(t){a.gallery.attr("data-rows-to-show",t),a.rowsToShow=t,a.initLayout()},this.getNumberOfColumns=function(){return a.layoutProvider.getNumberOfColumns()},this.getRowsToShow=function(){return a.gallery.attr("data-rows-to-show")||"4"},this.equalCaptionsHeight=function(t){a.layoutProvider.equalCaptionsHeight(t)},this.setLinkGallery=function(t){t?(a.galleryType="link",a.imagesStack.get().forEach((function(t){var e=$(t).find(".image-container a"),a=e.attr("data-link-url")||"";e.attr("href",a)}))):(a.imagesStack.get().forEach((function(t){var e=$(t).find(".image-container a"),a=e.attr("href");e.attr("data-link-url",a)})),a.galleryType="photoSwipe"),a.initLayout()},this.initAnimation=function(t,e){var i;a.gallery.find("li.photoGalleryThumbs").removeClass("animated "+e).addClass("animated "+t).css("animation-name",""),a.gallery.attr("data-image-animation",t),a.animation=t,a.initLayout()},this.getNextImage=function(t){return a.imagesStack.getNextImage(t)},this.getId=function(){return a.gallery[0].id},this.swapImages=function(t,e){a.imagesStack.swap(t,e),a.initLayout()},this.getImages=function(){return a.imagesStack.get()},this.addImage=function(t,e){a.imagesStack.add($(t),e),a.initLayout()},this.removeImage=function(t){a.imagesStack.remove(t)},this.getElementDimensions=this.getElementDimensions.bind(this),this.gallery=e,this.galleryId=this.gallery.attr("id"),this.galleryType=this.gallery.attr("data-link-gallery")&&"true"===this.gallery.attr("data-link-gallery")?"link":"photoSwipe",this.rowsToShow=this.gallery.attr("data-rows-to-show"),this.enableLazyLoading=this.getLazyLoading(),this.viewImagesButton=this.gallery.find(".photoGalleryViewAll"),this.device=w.environmentService.getCurrentLayoutDevice(),this.imagesStack=new y.default(this.gallery),this.imagesToUnveil=[],this.animation=this.gallery.attr("data-image-animation")||"none",this.layoutProvider=new v.default(this.gallery,this.imagesStack),this.initLayout()}return(0,c.default)(t,[{key:"oldLayoutFix",value:function t(e){var a=e.thumb;this.layoutProvider.calculateImageHeight(a);var i=this.gallery.attr("data-image-hover-effect");return this.animation&&i&&"false"!==i&&"none"!==i}},{key:"waitForTransition",value:function t(e){return new Promise(function(t){$(e).one("transitionend",t)})}},{key:"getElementDimensions",value:function t(e){var a,i=(e.length?e[0]:e).getBoundingClientRect();return{width:i.width,height:i.height}}},{key:"replaceSourcePath",value:function t(e,a){return e.replace(/\/multi\/(?:desktop\/|tablet\/|thumbnail\/|mobile\/)?/gi,"/multi/"+a+"/")}},{key:"animation",get:function t(){return this._animation},set:function t(e){this._animation!==e&&(this._animation="none"!==e?e:null)}}]),t})(),h.displayName="PhotoGallery",f);e.default=T},172:function(t,e,a){var i=a(173),n=a(64),o="Expected a function";function r(t,e,a){var r=!0,l=!0;if("function"!=typeof t)throw new TypeError(o);return n(a)&&(r="leading"in a?!!a.leading:r,l="trailing"in a?!!a.trailing:l),i(t,e,{leading:r,maxWait:e,trailing:l})}t.exports=r},173:function(t,e,a){var i=a(64),n=a(174),o=a(175),r="Expected a function",l=Math.max,s=Math.min;function u(t,e,a){var u,c,g,d,h,f,m=0,y=!1,p=!1,v=!0;if("function"!=typeof t)throw new TypeError(r);function w(e){var a=u,i=c;return u=c=void 0,m=e,d=t.apply(i,a)}function S(t){return m=t,h=setTimeout(b,e),y?w(t):d}function I(t){var a,i,n=e-(t-f);return p?s(n,g-(t-m)):n}function C(t){var a=t-f,i;return void 0===f||a>=e||a<0||p&&t-m>=g}function b(){var t=n();if(C(t))return k(t);h=setTimeout(b,I(t))}function k(t){return h=void 0,v&&u?w(t):(u=c=void 0,d)}function x(){void 0!==h&&clearTimeout(h),m=0,u=f=c=h=void 0}function L(){return void 0===h?d:k(n())}function P(){var t=n(),a=C(t);if(u=arguments,c=this,f=t,a){if(void 0===h)return S(f);if(p)return h=setTimeout(b,e),w(f)}return void 0===h&&(h=setTimeout(b,e)),d}return e=o(e)||0,i(a)&&(y=!!a.leading,g=(p="maxWait"in a)?l(o(a.maxWait)||0,e):g,v="trailing"in a?!!a.trailing:v),P.cancel=x,P.flush=L,P}t.exports=u},174:function(t,e,a){var i=a(27),n=function(){return i.Date.now()};t.exports=n},175:function(t,e,a){var i=a(64),n=a(176),o=NaN,r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function g(t){if("number"==typeof t)return t;if(n(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var a=s.test(t);return a||u.test(t)?c(t.slice(2),a?2:8):l.test(t)?o:+t}t.exports=g},176:function(t,e,a){var i=a(15),n=a(10),o="[object Symbol]";function r(t){return"symbol"==typeof t||n(t)&&i(t)==o}t.exports=r},177:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,n=l(a(3)),o,r;function l(t){return t&&t.__esModule?t:{default:t}}var s=(r=o=function t(e){var a=this;(0,n.default)(this,t),this.wrapImage=function(t){var e=t.find(">");return e.is(".thumbnailInnerWrapper")||e.wrapAll('<div class="thumbnailInnerWrapper" style="opacity:0"/>'),t},this.add=function(t,e){var i=e?0:a.images.length;return a.images.splice(i,0,a.wrapImage(t)),a.images},this.get=function(){return a.images},this.getAsJQuery=function(){var t=a.get();return $(t).map((function(){return this.toArray()}))},this.clear=function(){a.images=[]},this.swap=function(t,e){var i=a.images[e];return a.images.splice(e,1),a.images.splice(t,0,i),a.images},this.remove=function(t){return a.images=a.images.filter((function(e){return e.attr("id")!==t})),a.images},this.getImageAt=function(t){return t<a.images.length?a.images[t]:null},this.getNextImage=function(t){var e=t.attr("id"),i=Array.from(a.images).findIndex((function(t){return t.attr("id")===e}));return i<0||i===a.images.length-1?null:a.images[i+1]},this.gallery=e;var i=Array.from(this.gallery.find("li.photoGalleryThumbs")),o;i.length&&i[0].hasAttribute("data-index")&&(i=i.sort((function(t,e){var a=t.dataset.index,i=e.dataset.index;return(a||-1)>(i||-1)?1:-1}))),this.images=i.map((function(t){return a.wrapImage($(t))}))},o.displayName="ImagesStack",r);e.default=s},178:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,n=u(a(3)),o,r,l=a(6),s=a(26);function u(t){return t&&t.__esModule?t:{default:t}}var c=l.PhotoGalleryLayouts.SQUARE,g=l.PhotoGalleryLayouts.VERTICAL,d=l.PhotoGalleryLayouts.PINTEREST,h=l.PhotoGalleryLayouts.PANORAMIC,f=l.PhotoGalleryLayouts.ASYMETRIC,m=l.PhotoGalleryLayouts.ASYMETRIC2,y=l.PhotoGalleryLayouts.ASYMETRIC3,p=l.PhotoGalleryLayouts.CLASSIC_ROUNDED,v=l.PhotoGalleryLayouts.CLASSIC_DROPS,w=l.PhotoGalleryLayouts.PINTEREST_ROUNDED,S=l.PhotoGalleryLayouts.VERTICAL_ROUNDED,I=(r=o=function t(e,a){var i=this;(0,n.default)(this,t),this.updateCaptionAlignment=function(){return"captionAlignment-"+i.gallery.attr("data-"+i.device+"-caption-alignment")||"captionAlignment-center_center"},this.updateTextLayout=function(){var t=i.gallery.attr("data-"+i.device+"-text-layout");return t||i.gallery.hasClass("upgradedGallery")&&(t=i.gallery.attr("data-text-layout")),t||l.PhotoGalleryTextLayouts.BOTTOM},this.getNumberOfRow=function(t,e){var a=i.layout.numberOfImagesPerColumn,n=Math.floor(e/a);return 1===t?n:Math.floor(n/t)},this.setLayout=function(t){t&&(i.gallery.attr("data-"+i.device+"-layout",t),i.layout=t)},this.get=function(){return i.layout},this.getTextLayout=function(){return i.textLayout},this.generateRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $("<div class='photogallery-row "+e+"' data-index='"+t+"'/>")},this.generateColumn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $("<div class='photogallery-column "+e+"' data-index='"+t+"'/>")},this.generateImage=function(t,e,a){return t.removeClass().addClass("photoGalleryThumbs "+(a||"")),t.attr("data-index",e),t},this.appendColumnsToRow=function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=0;n<e;n++)t.append(i.generateColumn(n,a+" column-"+e))},this.getMaxHeight=function(t){var e=0;return t.each((function(t,a){var i=$(a).height();i>e&&(e=i)})),e},this.generateLayoutContainer=function(){return $('<div class="layout-container '+i.layout+'" />')},this.clearCaptionInlineHeight=function(t){var e;i.getRows(t).find(".photogallery-column .caption-container").css("height","")},this.getRows=function(t){return t?t.closest(".photogallery-row"):i.gallery.find(".photogallery-row")},this.equalCaptionsHeight=function(t){var e=i.getRows(t);if(i.textLayout===l.PhotoGalleryTextLayouts.OVER)e.find(".photogallery-column .caption-container").css("height","100%");else if(i.textLayout===l.PhotoGalleryTextLayouts.FIXED)e.find(".photogallery-column .caption-container").css("height","auto");else switch(i.layout){case d:case w:e.each((function(t,e){var a=$(e).find(".photogallery-column >:first-child .caption-container");a.css("height",""),a.height(i.getMaxHeight(a));var n=$(e).find(".photogallery-column >:last-child .caption-container");n.height(i.getMaxHeight(n))}));break;case m:case y:e.each((function(t,e){var a=$(e).find(".caption-container");a.css("height","");var i=0;a.each((function(t,e){var a=$(e).height();a>i&&(i=a)})),a.height(i),$(e).find(".asymetric-big-image .caption-container").height(2*i)}));break;default:e.each((function(t,e){var a=$(e).find(".photogallery-column .caption-container");a.css("height",""),a.height(i.getMaxHeight(a))}))}},this.isEven=function(t){return t%2==0},this.findColumnByIndex=function(t,e){return t.find('.photogallery-column[data-index="'+e+'"]')},this.drawSquare=function(){for(var t=i.imagesStack.get(),e=i.getNumberOfColumns(),a=void 0,n=0;n<t.length;n++){var o=i.generateImage(t[n],n);n%e==0&&(a=i.generateRow(Math.floor(n/e)),i.layoutContainer.append(a),i.appendColumnsToRow(a,e));var r=n%e,l;i.findColumnByIndex(a,r).append(o)}},this.calculateImageHeight=function(t){var e=t.find("img"),a=e.attr("data-src"),n=t.attr("data-ratio");if(n)i.updateImageHeightByRatio(n,t);else{var o=e.attr("irh"),r=e.attr("irw");if(o&&r)n=o/r,i.updateImageHeightByRatio(n,t);else{var l=new Image;l.onload=function(){var e=l.naturalHeight,a=l.naturalWidth;n=e/a,i.updateImageHeightByRatio(n,t)},l.src=a}}},this.updateImageHeightByRatio=function(t,e){var a=e.find("a");a.css("padding","inherit"),a.css("height",t*e.width())},this.drawPinterest=function(){for(var t=i.imagesStack.get(),e=1*i.getNumberOfColumns(),a=void 0,n=void 0,o=void 0,r=0,l=0===i.isEven(e),s=1===e?e:2*e,u=0;u<t.length;u++){u%s==0&&(n=Math.floor(u/e),a=i.generateRow(n),i.layoutContainer.append(a),i.appendColumnsToRow(a,e)),r=u%e,o=i.findColumnByIndex(a,r);var c=void 0;c=i.isEven(u)&&i.isEven(r)&&0===o.children().length||(!i.isEven(u)||!l)&&!i.isEven(r)&&1===o.children().length?i.generateImage(t[u],u,"pinterest-low"):i.generateImage(t[u],u,"pinterest-high"),o.append(c)}},this.drawPanoramic=function(){for(var t=i.imagesStack.get(),e=void 0,a=0;a<t.length;a++){var n=i.generateImage(t[a],a,"panoramic-height"),o;e=i.generateRow(Math.floor(a)),i.layoutContainer.append(e),e.append(i.generateColumn(0,"column-1")),e.find(".photogallery-column").append(n)}},this.drawVertical=function(){for(var t=i.imagesStack.get(),e=i.getNumberOfColumns(),a=void 0,n=0;n<t.length;n++){var o=i.generateImage(t[n],n,"vertical-height");n%e==0&&(a=i.generateRow(Math.floor(n/e)),i.layoutContainer.append(a),i.appendColumnsToRow(a,e));var r=n%e,l;i.findColumnByIndex(a,r).append(o)}},this.calculateAsymetricsColumns=function(){var t=1*i.getNumberOfColumns();if(1!==t&&(i.layout===m||i.layout===y)){var e=i.layout===y?2:1.5,a=void 0,n=100/t,o=Math.ceil(t/2),r,l=40/Math.floor(t/2),s=60/o,u=i.gallery.find(".photogallery-column"),c=u.eq(0).find("li").css("padding")||"0px";u.each((function(t,o){var r=$(o),u=r.find(".image-container a"),g;r.hasClass("row-direction")?(r.css("width",s+"%"),a=n/s*100+"%",u.css("padding-top",a),i.layout===y&&r.find(".asymetric3-long-image .image-container a").css("padding-top",n/s*50+"%")):(r.css("width",l+"%"),a="calc("+n/l*100+"% + "+c.replace("px","")*e+"px)",u.css("padding-top",a))}))}},this.drawAsymetric2=function(){for(var t=i.imagesStack.get(),e=i.getNumberOfColumns(),a=0,n=i.generateRow(a),o=0,r=0,l=i.isEven(a),s=void 0,u=0;u<t.length;u++){if(0===r){o===1*e&&(a++,n=i.generateRow(a),l=i.isEven(a),o=0),r=(l=!l)?1:4;var c=(l?"":"row-direction ")+"column-"+e;s=i.generateColumn(o,c),n.append(s),i.layoutContainer.append(n),o++}var g=l?"asymetric-big-image":"flex column width-50",d=i.generateImage(t[u],u,g);s.append(d),r--}},this.drawAsymetric3=function(){for(var t=i.imagesStack.get(),e=i.getNumberOfColumns(),a=0,n=i.generateRow(a),o=0,r=0,l=!i.isEven(a),s=void 0,u=0;u<t.length;u++){if(0===r){o===1*e&&(a++,n=i.generateRow(a),l=!i.isEven(a),o=0),r=(l=!l)?1:3;var c=(l?"":"row-direction ")+"column-"+e;s=i.generateColumn(o,c),n.append(s),i.layoutContainer.append(n),o++}var g=void 0;g=l?"asymetric-big-image":1===r?"flex column asymetric3-long-image":"flex column width-50";var d=i.generateImage(t[u],u,g);s.append(d),r--}},this.getNumberOfColumns=function(){var t=i.gallery.attr("data-"+i.device+"-columns");if(i.device===l.Device.MOBILE&&(i.layout===m||i.layout===y))return"1";if(!t){if(i.device===l.Device.DESKTOP)return"4";if(i.device===l.Device.TABLET)return i.gallery.attr("data-desktop-columns")||"4";var e=1*(i.gallery.attr("data-desktop-columns")||4);return Math.min(2,e).toString()}return t},this.draw=function(){i.layoutContainer&&i.layoutContainer.remove(),i.layoutContainer=i.generateLayoutContainer();var t=i.imagesStack.getAsJQuery();switch(t.css("background-image",""),t.find("a").attr("style",""),i.layout){case c:case p:case v:case f:i.drawSquare();break;case d:case w:i.drawPinterest();break;case h:i.drawPanoramic();break;case g:case S:i.drawVertical();break;case m:i.drawAsymetric2();break;case y:i.drawAsymetric3()}i.viewAll.length?i.layoutContainer.insertBefore(i.viewAll):i.layoutContainer.insertAfter(i.galleryHolder),i.calculateAsymetricsColumns(),i.gallery.removeClass("text-layout-"+i.textLayout),i.gallery.removeClass(i.captionAlignment),i.textLayout=i.updateTextLayout(),i.captionAlignment=i.updateCaptionAlignment(),i.gallery.addClass("text-layout-"+i.textLayout),i.gallery.addClass(i.captionAlignment),i.layoutContainer.find(".photogallery-row").addClass("photogallery-hidden-row")},this.isCaptionElementVisible=function(t,e){var a=t.find(".caption-inner"),i=t.find(".caption-container");return a.length>0&&("none"!==a.css("display")&&"none"!==i.css("display")&&"none"!==t.find(e).css("display"))},this.gallery=e,this.device=s.environmentService.getCurrentLayoutDevice(),this.layout=this.gallery.attr("data-"+this.device+"-layout")||this.gallery.attr("data-desktop-layout")||c,this.textLayout=this.updateTextLayout(),this.captionAlignment=this.updateCaptionAlignment(),this.imagesStack=a,this.viewAll=this.gallery.find(".photoGalleryViewAll"),this.galleryHolder=this.gallery.find(".dmPhotoGalleryHolder"),this.gallery.find(".layout-container").length&&this.gallery.find(".layout-container").remove()},o.displayName="LayoutProvider",r);e.default=I}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbbnVsbF0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtrREFBK2tELENBQUEsMmZBQTJmLENBQUEsc0pBQXNKLENBQUEscXBCQUFxcEIsQ0FBQSx3RUFBd0UsQ0FBQSw0ZkFBNGYsQ0FBQSw4Q0FBOEMsQ0FBQSx5UkFBeVIsQ0FBQSxrQ0FBa0MsQ0FBQSxPQUFPLENBQUEsMENBQTBDLENBQUEsNEtBQTRLLENBQUEsb0RBQW9ELENBQUEsb0hBQW9ILENBQUEsdUxBQXVMLENBQUEsMlVBQTJVLENBQUEsd0tBQXdLLENBQUEsaUdBQWlHLENBQUEsaURBQWlELENBQUEsMENBQTBDLENBQUEsb0RBQW9ELENBQUEsd3ZCQUF3dkIsQ0FBQSxNQUFNLENBQUEsNC9DQUE0L0MsQ0FBQSwySEFBMkgsQ0FBQSw4Q0FBOEMsQ0FBQSxnQ0FBZ0MsQ0FBQSwwUEFBMFAsQ0FBQSxtR0FBbUcsQ0FBQSx5QkFBeUIsQ0FBQSw0RkFBNEYsQ0FBQSwwQkFBMEIsQ0FBQSxpSkFBaUosQ0FBQSw2SUFBNkksQ0FBQSxvQkFBb0IsQ0FBQSxnYkFBZ2IsQ0FBQSxpR0FBaUcsQ0FBQSxnQ0FBZ0MsQ0FBQSw2RkFBNkYsQ0FBQSxnaEVBQWdoRSxDQUFBLDA2RUFBMDZFLENBQUEsaUNBQWlDLENBQUEscU1BQXFNLENBQUEsb0NBQW9DLENBQUEscUtBQXFLLENBQUEsb0NBQW9DLENBQUEsMkxBQTJMLENBQUEsaUZBQWlGLENBQUEscUJBQXFCLENBQUEscUNBQXFDLENBQUEsMitEQUEyK0QsQ0FBQSw2Q0FBNkMsQ0FBQSxzcUJBQXNxQixDQUFBLDBPQUEwTyxDQUFBLDZCQUE2QixDQUFBLHNGQUFzRixDQUFBLDZDQUE2QyxDQUFBLCtFQUErRSxDQUFBLHVCQUF1QixDQUFBLHdIQUF3SCxDQUFBLG13RUFBbXdFLENBQUEsb1ZBQW9WLENBQUEifQ==